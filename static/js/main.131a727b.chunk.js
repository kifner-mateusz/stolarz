(this.webpackJsonpstolarz=this.webpackJsonpstolarz||[]).push([[0],{1725:function(e,t,n){},1726:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(1),c=n.n(i),r=n(19),o=n.n(r),s=n(7),d=n(10),l=n(20),u=n.n(l);function j(e,t){switch(t.type){case"set":return Object(d.a)(t.data);case"add":return void 0===t.data.id&&(t.data.id=e.length),[].concat(Object(d.a)(e),[t.data]);case"remove":return e.filter((function(e){return e.id!==t.id}));case"change":return e.map((function(e){return e.id===t.data.id?t.data:e}));case"populateWithPlaceholders":for(var n=[],a=0;a<100;a++){var i={id:a,name:u.a.name.firstName(),surname:u.a.name.lastName(),tel:u.a.phone.phoneNumberFormat(),email:u.a.internet.email(),is_good:u.a.random.number()%10>2};n.push(i)}return n;default:return e}}function b(e,t){var n=Object(i.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),a=Object(s.a)(n,2),c=a[0],r=a[1];return[c,function(t){try{var n=t instanceof Function?t(c):t;r(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]}var m={contacts:[],setContacts:function(e){},addContact:function(e){},removeContact:function(e){},changeContact:function(e){},populateContactsWithPlaceholders:function(){}},p=c.a.createContext(m);function h(e){var t=Object(i.useReducer)(j,[]),n=Object(s.a)(t,2),c=n[0],r=n[1],o=b("contacts",[]),d=Object(s.a)(o,2),l=d[0],u=d[1];Object(i.useEffect)((function(){m(l)}),[]),Object(i.useEffect)((function(){u(c)}));var m=function(e){r({type:"set",data:e})};return Object(a.jsx)(p.Provider,{value:{contacts:c,setContacts:m,addContact:function(e){r({type:"add",data:e})},removeContact:function(e){r({type:"remove",id:e})},changeContact:function(e){r({type:"change",data:e})},populateContactsWithPlaceholders:function(){r({type:"populateWithPlaceholders"})}},children:e.children})}var O=n(12);function f(e,t){switch(t.type){case"set":return Object(d.a)(t.data);case"add":return[].concat(Object(d.a)(e),[t.data]);case"remove":return e.filter((function(e){return e.id!==t.id}));case"change":return e.map((function(e){return e.id===t.data.id?t.data:e}));case"populateWithPlaceholders":for(var n=[],a=0;a<40;a++){var i={id:a,name:"test",client_id:0,desc:"wooden Table",notes:"",price_value:u.a.random.number()%4e3+500,is_price_paid:!1,advance_value:u.a.random.number()%500,is_advance_paid:u.a.random.number()%10>2,shopping_list_id:null,is_anbandoned:!1,is_completed:!1,date_of_issue:u.a.date.recent(),est_date_of_completion:u.a.date.soon(),date_of_completion:null};n.push(i)}return n;default:return e}}var x={orders:[],setOrders:function(e){},addOrder:function(e){},removeOrder:function(e){},changeOrder:function(e){},populateOrdersWithPlaceholders:function(){}},_=c.a.createContext(x);function v(e){var t=Object(i.useReducer)(f,[]),n=Object(s.a)(t,2),c=n[0],r=n[1],o=b("orders",[]),d=Object(s.a)(o,2),l=d[0],u=d[1];Object(i.useEffect)((function(){j(l.map((function(e){var t,n,a=new Date(e.date_of_issue);return t=null===e.est_date_of_completion?null:new Date(e.est_date_of_completion),n=null===e.date_of_completion?null:new Date(e.date_of_completion),Object(O.a)(Object(O.a)({},e),{},{date_of_completion:n,est_date_of_completion:t,date_of_issue:a})})))}),[]),Object(i.useEffect)((function(){u(c)}));var j=function(e){r({type:"set",data:e})};return Object(a.jsx)(_.Provider,{value:{orders:c,setOrders:j,addOrder:function(e){r({type:"add",data:e})},removeOrder:function(e){r({type:"remove",id:e})},changeOrder:function(e){r({type:"change",data:e})},populateOrdersWithPlaceholders:function(){r({type:"populateWithPlaceholders"})}},children:e.children})}function g(e,t){switch(t.type){case"setReceipts":return Object(d.a)(t.data);case"addReceipt":var n=Object(O.a)({},t.data);return void 0===n.id&&(n.id=e.length),n.items=n.items.map((function(e,t){var n=e;return n.id=t,n})),n.items.map((function(e){return e.is_bought?1:0})).reduce((function(e,t){return e+t}),0)===n.items.length?n.completed=!0:n.completed=!1,void 0!==e[n.id]?e.map((function(e){return e.id===n.id?n:e})):[].concat(Object(d.a)(e),[n]);case"removeReceipt":return e.filter((function(e){return e.id!==t.list_id}));case"changeReceipt":return e.map((function(e){return e.id===t.list_data.id?t.list_data:e}));case"addItem":return e.map((function(e){if(e.id===t.list_id){console.log(e);var n=Object(O.a)({},e);return n.items=Object(d.a)(e.items),void 0===t.item_data.id&&(t.item_data.id=e.items.length),void 0===t.item_data.is_bought&&(t.item_data.is_bought=!1),n.items.push(t.item_data),n.items.map((function(e){return e.is_bought?1:0})).reduce((function(e,t){return e+t}),0)===n.items.length?n.completed=!0:n.completed=!1,n}return e}));case"changeItem":return e.map((function(e){if(e.id===t.list_id){var n=Object(O.a)({},e);n.items=Object(d.a)(e.items);var a=t.item_data.id;return n.items[a]=t.item_data,n.items.map((function(e){return e.is_bought?1:0})).reduce((function(e,t){return e+t}),0)===n.items.length?n.completed=!0:n.completed=!1,n}return e}));case"removeItem":return e.map((function(e){if(e.id===t.list_id){var n=e.items.filter((function(e){return e.id!==t.item_id}));return Object(O.a)(Object(O.a)({},e),{},{items:n})}return e}));case"populateWithPlaceholders":for(var a=[],i=0;i<20;i++){var c={id:i,name:"test",budget:u.a.random.number()%4e4,order_id:null,items:[{id:0,name:u.a.commerce.product(),amount:u.a.random.number()%20+1,is_bought:!1}],completed:u.a.random.number()%10>2};a.push(c)}return a;default:return e}}var C={receipts:[],setReceipts:function(e){},addReceipt:function(e){},removeReceipt:function(e){},changeReceipt:function(e){},populateReceiptsWithPlaceholders:function(){},addItem:function(e,t){},changeItem:function(e,t){},removeItem:function(e,t){}},y=c.a.createContext(C);function k(e){var t=Object(i.useReducer)(g,[]),n=Object(s.a)(t,2),c=n[0],r=n[1],o=b("receipt",[]),d=Object(s.a)(o,2),l=d[0],u=d[1];Object(i.useEffect)((function(){j(l)}),[]),Object(i.useEffect)((function(){u(c)}));var j=function(e){r({type:"setReceipts",data:e})};return Object(a.jsx)(y.Provider,{value:{receipts:c,setReceipts:j,addReceipt:function(e){r({type:"addReceipt",data:e})},removeReceipt:function(e){r({type:"removeReceipt",list_id:e})},changeReceipt:function(e){r({type:"changeReceipt",list_data:e})},populateReceiptsWithPlaceholders:function(){r({type:"populateWithPlaceholders"})},addItem:function(e,t){r({type:"addItem",list_id:e,item_data:t})},changeItem:function(e,t){r({type:"changeItem",list_id:e,item_data:t})},removeItem:function(e,t){r({type:"removeItem",list_id:e,item_id:t})}},children:e.children})}var N=n(1785),S=n(1758),I=n(1762),R=n(67),w=n.n(R),W=n(206),L=n.n(W),E=n(108),P=n.n(E);var F=function(e){var t=e.history,n=e.location;return Object(a.jsxs)(S.a,{value:n.pathname.split("/")[1],onChange:function(e,n){t.push("/"+n)},showLabels:!0,children:[Object(a.jsx)(I.a,{label:"Orders",value:"Orders",icon:Object(a.jsx)(L.a,{})}),Object(a.jsx)(I.a,{label:"Shopping List",value:"ShoppingList",icon:Object(a.jsx)(P.a,{})}),Object(a.jsx)(I.a,{label:"Finances",value:"Finances",icon:Object(a.jsx)(w.a,{})})]})},A=n(1767),D=n(1763),B=n(1764),T=n(1776),V=n(1774),z=n(1768),M=n(1769),q=n(91),K=n(1770),Q=n(1771),Y=n(1772),$=n(1775),J=n(1773),H=n(1765),G=n(1766),U=n(33),Z=n.n(U),X=n(207),ee=n.n(X),te=n(69),ne=n.n(te),ae=n(68),ie=n.n(ae),ce=n(1789);var re=function(e){return Object(a.jsx)(D.a,{dense:!0,children:e.items.map((function(t){return Object(a.jsxs)(B.a,{button:!0,onClick:function(){return e.onSelect&&e.onSelect(t)},children:[Object(a.jsx)(H.a,{children:t.is_bought?e.checkbox?Object(a.jsx)(ie.a,{htmlColor:"#388E3C"}):Object(a.jsx)(ee.a,{htmlColor:"#388E3C"}):e.checkbox?Object(a.jsx)(ne.a,{htmlColor:"disabled"}):Object(a.jsx)(Z.a,{htmlColor:"disabled"})}),Object(a.jsx)(G.a,{primary:t.name,secondary:" x".concat(t.amount),primaryTypographyProps:{display:"inline"},secondaryTypographyProps:{display:"inline"}})]},Object(ce.a)())}))})},oe=n(210),se=n.n(oe),de=n(209),le=n.n(de),ue=n(208),je=n.n(ue),be=Object(A.a)((function(e){return{card:{width:"100%"},timeContianer:{display:"flex",gap:"0.5em"},cardMoneyIcon:{marginLeft:"auto"},cardActionsContainer:{display:"flex",width:"100%"},cardActionQuickButton:{marginLeft:"auto !important"},cardNotes:{backgroundColor:e.palette.grey[50]},completed:{backgroundColor:"#AED581"},money:{display:"flex",flexDirection:"column",alignItems:"flex-end",width:"100%"}}}));var me=function(e){var t=e.receipt,n=e.onCheck,c=e.checked,r=e.onItemCheck,o=e.onEditClick,d=e.checkbox,l=be(),u=Object(i.useState)(void 0!==r),j=Object(s.a)(u,2),b=j[0],m=j[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(z.a,{onClick:function(){return n&&void 0!==t.id&&n(t.id)},children:Object(a.jsx)(M.a,{className:t.completed?l.completed:"",children:Object(a.jsxs)("div",{className:l.timeContianer,children:[Object(a.jsx)(je.a,{color:"primary"}),Object(a.jsx)(q.a,{variant:"subtitle1",component:"h2",display:"inline",children:t.name}),Object(a.jsx)("div",{className:l.cardActionQuickButton}),Object(a.jsxs)("div",{className:l.money,children:[Object(a.jsx)(q.a,{variant:"subtitle1",component:"h2",display:"inline",color:"textSecondary",children:t.budget&&(t.budget/100).toFixed(2)+"z\u0142"}),Object(a.jsx)(q.a,{variant:"subtitle1",component:"h2",display:"inline",color:"secondary",children:t.money_spent&&" -"+(t.money_spent/100).toFixed(2)+"z\u0142"}),Object(a.jsx)(q.a,{variant:"subtitle1",component:"h2",display:"inline",color:t.budget&&t.money_spent?t.budget-t.money_spent>0?"primary":"secondary":"textSecondary",children:t.money_spent&&t.budget&&" = "+((t.budget-t.money_spent)/100).toFixed(2)+"z\u0142"})]}),Object(a.jsx)("div",{className:l.cardActionQuickButton}),n&&Object(a.jsx)(a.Fragment,{children:c?Object(a.jsx)(ie.a,{htmlColor:"#388E3C",fontSize:"large"}):Object(a.jsx)(ne.a,{htmlColor:"#757575",fontSize:"large"})})]})})}),Object(a.jsx)(K.a,{}),void 0===r&&Object(a.jsxs)(Q.a,{className:l.cardActionsContainer,children:[Object(a.jsx)(Y.a,{size:"small",color:"primary",onClick:function(){m((function(e){return!e}))},children:b?Object(a.jsxs)(a.Fragment,{children:["Hide List",Object(a.jsx)(le.a,{})]}):Object(a.jsxs)(a.Fragment,{children:["Show List",Object(a.jsx)(se.a,{})]})}),Object(a.jsx)(Y.a,{size:"small",color:"primary",onClick:function(){console.log("test",t.id),console.log(o),o&&void 0!==t.id&&o(t.id)},children:"Edytuj"})]}),Object(a.jsx)(J.a,{in:b,children:Object(a.jsx)(M.a,{children:Object(a.jsx)(re,Object(O.a)(Object(O.a)({},t),{},{onSelect:function(e){r&&void 0!==t.id&&r(t.id,e.id)},checkbox:d}))})})]})},pe={login:null,expand_shopping_list_in_orders:!0,set_expand_shopping_list_in_orders:function(e){}},he=c.a.createContext(pe);function Oe(e){var t=Object(i.useState)(null),n=Object(s.a)(t,2),c=n[0],r=(n[1],Object(i.useState)(!0)),o=Object(s.a)(r,2),d=o[0],l=o[1],u=b("usersettings",[]),j=Object(s.a)(u,2);j[0],j[1];return Object(a.jsx)(he.Provider,{value:{login:c,expand_shopping_list_in_orders:d,set_expand_shopping_list_in_orders:l},children:e.children})}function fe(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((function(n){return t.hasOwnProperty(n)&&t[n]===e[n]}))}var xe=n(111),_e=n.n(xe),ve=n(211),ge=n.n(ve),Ce=n(109),ye=n.n(Ce),ke=n(110),Ne=n.n(ke),Se=Object(A.a)((function(e){return{card:{width:"100%"},timeContianer:{display:"flex",gap:"0.5em"},cardMoneyIcon:{marginLeft:"auto"},cardActionsContainer:{display:"flex",width:"100%"},cardActionQuickButton:{marginLeft:"auto !important"},cardNotes:{backgroundColor:e.palette.grey[50]}}}));function Ie(e){var t=e.id,n=e.name,c=e.desc,r=e.notes,o=e.est_date_of_completion,d=(e.date_of_completion,e.client_id,e.is_advance_paid),l=e.is_price_paid,u=e.shopping_list_id,j=e.onClick,b=e.onEditClick,m=Object(i.useContext)(y).receipts,p=Object(i.useContext)(he).expand_shopping_list_in_orders,h=Se(),f=Object(i.useState)(!1),x=Object(s.a)(f,2),_=x[0],v=x[1],g=Object(i.useState)(!1),C=Object(s.a)(g,2),k=C[0],N=C[1];return Object(a.jsxs)(V.a,{className:h.card,children:[Object(a.jsxs)(z.a,{onClick:function(){return j(t)},children:[Object(a.jsxs)(M.a,{className:h.timeContianer,children:[Object(a.jsx)(q.a,{variant:"h6",color:"textPrimary",component:"h1",children:n}),Object(a.jsxs)("div",{className:h.cardMoneyIcon,children:[l&&d&&Object(a.jsx)(ye.a,{htmlColor:"#388E3C"}),!d&&!l&&Object(a.jsx)(Ne.a,{htmlColor:"#D32F2F"}),!l&&d&&Object(a.jsx)(w.a,{htmlColor:"#F57C00"})]})]}),Object(a.jsx)(K.a,{}),Object(a.jsxs)(M.a,{className:h.timeContianer,children:[Object(a.jsx)(_e.a,{}),Object(a.jsx)(q.a,{variant:"subtitle1",component:"h2",children:null===o||void 0===o?void 0:o.toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),Object(a.jsx)(K.a,{}),Object(a.jsx)(M.a,{children:Object(a.jsx)(q.a,{variant:"body1",color:"textPrimary",component:"p",children:c})})]}),Object(a.jsx)(K.a,{}),Object(a.jsxs)(Q.a,{className:h.cardActionsContainer,children:[Object(a.jsx)(Y.a,{size:"small",color:"primary",onClick:function(){return b(t)},children:"Edytuj"}),Object(a.jsx)("div",{className:h.cardActionQuickButton}),r.length>0&&Object(a.jsx)($.a,{"aria-label":"notes",onClick:function(){v((function(e){return!e}))},children:Object(a.jsx)(ge.a,{htmlColor:_?"#3f51b5":"#757575"})}),null!==u&&Object(a.jsx)($.a,{"aria-label":"notes",onClick:function(){N((function(e){return!e}))},children:Object(a.jsx)(P.a,{htmlColor:k?"#3f51b5":"#757575"})})]}),Object(a.jsxs)(J.a,{in:_&&r.length>0,children:[Object(a.jsx)(K.a,{}),Object(a.jsx)(M.a,{className:h.cardNotes,children:Object(a.jsx)(q.a,{variant:"body2",color:"textPrimary",component:"p",children:r})})]}),null!==u&&Object(a.jsxs)(J.a,{in:k,children:[Object(a.jsx)(K.a,{}),Object(a.jsx)(M.a,{children:p?Object(a.jsx)(re,Object(O.a)({},m[u])):Object(a.jsx)(me,{receipt:m[u]})})]})]})}var Re=Object(i.memo)(Ie,(function(e,t){return fe(e,t)})),we=n(42),We=n.n(we),Le=Object(A.a)((function(e){return{ordersContainer:{height:"100%",position:"relative"},listContainer:{height:"100%",overflowY:"scroll",maxWidth:e.breakpoints.values.md,marginLeft:"auto",marginRight:"auto"},flotingAdd:{position:"absolute",bottom:"5vmin",right:"5vmin"},bottomMargin:{marginBottom:"10vmin",display:"block"}}}));var Ee=function(e){var t=e.history,n=Object(i.useContext)(_),c=n.orders,r=(n.addOrder,n.removeOrder,n.changeOrder,Le());return Object(a.jsxs)("div",{className:r.ordersContainer,children:[Object(a.jsxs)(D.a,{className:r.listContainer,children:[c.map((function(e){return Object(a.jsx)(B.a,{children:Object(a.jsx)(Re,Object(O.a)(Object(O.a)({},e),{},{onClick:function(e){t.push("/Orders/Id/"+e)},onEditClick:function(e){t.push("/Orders/Edit/"+e)}}))},Object(ce.a)())})),Object(a.jsx)(B.a,{className:r.bottomMargin},Object(ce.a)())]}),Object(a.jsx)(T.a,{color:"secondary","aria-label":"add",className:r.flotingAdd,onClick:function(){t.push("/Orders/Add")},children:Object(a.jsx)(We.a,{})})]})},Pe=Object(A.a)((function(e){return{card:{width:"100%"}}}));function Fe(e){var t=e.receipt,n=e.onCheck,i=e.checked,c=e.onItemCheck,r=e.onEditClick,o=e.checkbox,s=Pe();return Object(a.jsx)(V.a,{className:s.card,children:Object(a.jsx)(me,{receipt:t,onCheck:n,checked:i,onItemCheck:c,onEditClick:r,checkbox:o})})}var Ae=Object(i.memo)(Fe,(function(e,t){return fe(e.receipt,t.receipt)&&e.checked===t.checked})),De=n(1790),Be=n(1777),Te=n(1778),Ve=n(1779),ze=n(1786),Me=n(30);function qe(e){if(-1!==e.indexOf(".")){var t=e.split("."),n=0;switch(t.length>1&&(n=t[1].length),n){case 0:return parseInt(t[0]+"00");case 1:return parseInt(t[0]+t[1]+"0");case 2:return parseInt(t[0]+t[1])}}else if(-1!==e.indexOf(",")){var a=e.split(","),i=0;switch(a.length>1&&(i=a[1].length),i){case 0:return parseInt(a[0]+"00");case 1:return parseInt(a[0]+a[1]+"0");case 2:return parseInt(a[0]+a[1])}}return parseInt(e+"00")}var Ke=Object(A.a)((function(e){return{stopShoppingDialog:{display:"flex",flexDirection:"column",gap:"0.5rem",padding:"3rem"}}}));var Qe=function(e){var t=e.ids,n=e.open,c=e.onCloseClick,r=e.onEditClick,o=Ke(),d=Object(i.useContext)(y),l=d.receipts,u=d.changeItem,j=d.changeReceipt,b=Object(Me.b)(),m=b.register,p=b.handleSubmit,h=b.errors,f=Object(i.useState)({id:-1,name:"",items:[],budget:0,completed:!1,order_id:null}),x=Object(s.a)(f,2),_=(x[0],x[1],Object(i.useState)(!1)),v=Object(s.a)(_,2),g=v[0],C=v[1],k=function(e,t){u(e,Object(O.a)(Object(O.a)({},l[e].items[t]),{},{is_bought:!l[e].items[t].is_bought}))};return Object(a.jsxs)(De.a,{open:!!n,fullScreen:!0,children:[Object(a.jsx)(Be.a,{position:"static",children:Object(a.jsxs)(Te.a,{children:[Object(a.jsx)($.a,{edge:"start",color:"inherit","aria-label":"close",onClick:c,children:Object(a.jsx)(Z.a,{})}),Object(a.jsx)(q.a,{variant:"h6",children:"Shopping"})]})}),Object(a.jsxs)(Ve.a,{maxWidth:"md",children:[t.map((function(e){return l[e]})).map((function(e){return Object(a.jsx)(B.a,{children:Object(a.jsx)(Ae,{receipt:e,onItemCheck:k,onEditClick:r,checkbox:!0})},Object(ce.a)())})),Object(a.jsx)(Y.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){return C(!0)},children:"Stop shopping"})]}),Object(a.jsx)(De.a,{open:g,onClose:function(){return C(!1)},children:Object(a.jsxs)("form",{className:o.stopShoppingDialog,onSubmit:p((function(e){for(var t in console.log(e),e){var n=parseInt(t);e[t].length>0&&j(Object(O.a)(Object(O.a)({},l[n]),{},{items:l[n].items,money_spent:qe(e[t])}))}c&&c()})),children:[Object(a.jsx)(q.a,{variant:"body1",gutterBottom:!0,children:"Receipts"}),t.map((function(e){return l[e]})).map((function(e){var t,n;return Object(a.jsx)(ze.a,{name:null===(t=e.id)||void 0===t?void 0:t.toString(),inputRef:m({pattern:/^[0-9]+(\.[0-9]{1,2})?$/}),label:e.name,defaultValue:null,error:void 0!==e.id&&(null===(n=e.id)||void 0===n?void 0:n.toString())in h,variant:"outlined",fullWidth:!0},"shoppingListShoppingList"+e.id)})),Object(a.jsx)(Y.a,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,children:"Stop shopping"})]})})]})},Ye=Object(A.a)((function(e){return{receiptContainer:{height:"100%",position:"relative"},listContainer:{height:"100%",overflowY:"scroll",maxWidth:e.breakpoints.values.md,marginLeft:"auto",marginRight:"auto"},flotingButtons:{position:"absolute",bottom:"5vmin",right:"5vmin",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"1rem"},bottomMargin:{marginBottom:"10vmin",display:"block"}}}));var $e=function(e){var t=e.history,n=Object(i.useContext)(y),c=n.receipts,r=(n.addReceipt,n.removeReceipt,n.changeReceipt,Ye()),o=Object(i.useState)([]),l=Object(s.a)(o,2),u=l[0],j=l[1],b=Object(i.useState)(!1),m=Object(s.a)(b,2),p=m[0],h=m[1],O=function(e){j((function(t){var n=Object(d.a)(t);return n[e]=!n[e],n}))};return Object(i.useEffect)((function(){c.length!==u.length&&j(Array(c.length).fill(!1))})),Object(a.jsxs)("div",{className:r.receiptContainer,children:[Object(a.jsxs)(D.a,{className:r.listContainer,children:[c.map((function(e,n){return Object(a.jsx)(B.a,{children:Object(a.jsx)(Ae,{receipt:e,onCheck:O,checked:void 0!==e.id&&u[e.id],onEditClick:function(e){t.push("/ShoppingList/Edit/"+e)}})},"shoppingPageRecipt"+n)})),Object(a.jsx)(B.a,{className:r.bottomMargin},"ShoppingListPageMarginBottom")]}),Object(a.jsxs)("div",{className:r.flotingButtons,children:[Object(a.jsx)(T.a,{color:"secondary","aria-label":"add",onClick:function(){t.push("/ShoppingList/Add")},children:Object(a.jsx)(We.a,{})}),u.reduce((function(e,t){return(e?1:0)+(t?1:0)}),0)>0&&Object(a.jsx)(T.a,{color:"secondary","aria-label":"start shopping",onClick:function(){h(!0)},variant:"extended",children:"Start shopping"})]}),Object(a.jsx)(Qe,{ids:u.map((function(e,t){return e?t:-1})).filter((function(e){return-1!==e})),open:p,onCloseClick:function(){return h(!1)}})]})},Je=n(46),He=Object(A.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{outline:{position:"relative",borderRadius:e.shape.borderRadius,borderWidth:1,borderColor:t,borderStyle:"solid",padding:"18.5px 14px",display:"flex",gap:"0.5rem",justifyContent:"start","@media (hover: none)":{"&:hover":{borderColor:t}},"&:hover":{borderColor:e.palette.text.primary},"&:focused":{borderColor:e.palette.primary.main,borderWidth:2}},outlineLabel:{backgroundColor:e.palette.common.white,paddingLeft:"0.5rem",paddingRight:"0.5rem"},divider:{height:"1rem"},card:{width:"100%"},cardActionsContainer:{display:"flex",width:"100%"},cardActionQuickButton:{marginLeft:"auto !important"},cardNotes:{backgroundColor:e.palette.grey[50]},container:{margin:"3rem"}}}));var Ge=function(){var e=He(),t=Object(i.useContext)(y).receipts,n=Object(i.useContext)(_).orders,c=n.filter((function(e){return e.is_completed})).map((function(e){return null!==e.price_value?e.price_value:0})).reduce((function(e,t){return e+t}),0),r=n.map((function(e){return null!==e.shopping_list_id?e.shopping_list_id:-1})).filter((function(e){return-1!==e})).map((function(e){return t[e]})).map((function(e){return null!==e.money_spent&&void 0!==e.money_spent?e.money_spent:0})).reduce((function(e,t){return e+t}),0),o=[{name:"Total",gained:c/100,spent:-r/100}];return Object(a.jsx)(Ve.a,{maxWidth:"md",children:Object(a.jsxs)(V.a,{className:e.container,children:[Object(a.jsx)(M.a,{children:Object(a.jsxs)(q.a,{variant:"h6",color:"textPrimary",component:"h1",children:["Finances ",c<1&&r<1&&"(No data)"]})}),Object(a.jsx)(K.a,{}),Object(a.jsx)(M.a,{children:Object(a.jsxs)(q.a,{variant:"subtitle2",component:"h2",gutterBottom:!0,children:["Total gained: ",(c/100).toFixed(2)," PLN"]})}),Object(a.jsx)(M.a,{children:Object(a.jsxs)(q.a,{variant:"subtitle2",component:"h2",children:["Total spent: ",(r/100).toFixed(2)," PLN"]})}),Object(a.jsx)(M.a,{children:Object(a.jsxs)(q.a,{variant:"subtitle1",component:"h2",children:["Total revenue: ",((c-r)/100).toFixed(2)," ","PLN"]})}),Object(a.jsx)(K.a,{}),Object(a.jsx)(M.a,{children:Object(a.jsxs)(Je.b,{width:500,height:300,data:o,margin:{top:5,right:30,left:20,bottom:5},children:[Object(a.jsx)(Je.c,{strokeDasharray:"3 3"}),Object(a.jsx)(Je.g,{dataKey:"name"}),Object(a.jsx)(Je.h,{}),Object(a.jsx)(Je.f,{}),Object(a.jsx)(Je.d,{}),Object(a.jsx)(Je.e,{y:0,stroke:"#000"}),Object(a.jsx)(Je.a,{dataKey:"gained",fill:"#8884d8"}),Object(a.jsx)(Je.a,{dataKey:"spent",fill:"#82ca9d"})]})}),Object(a.jsx)(M.a,{})]})})},Ue=n(1781),Ze=n(220),Xe=n.n(Ze),et=n(221),tt=n.n(et);var nt=function(e){var t=e.location,n=e.history,i=e.Action;return Object(a.jsx)(Be.a,{position:"static",children:Object(a.jsx)(Te.a,{children:Object(a.jsxs)(Ue.a,{container:!0,alignItems:"center",spacing:2,children:[Object(a.jsx)(Ue.a,{item:!0,children:Object(a.jsx)($.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){n.push("/Settings")},children:Object(a.jsx)(Xe.a,{})})}),Object(a.jsx)(Ue.a,{item:!0,xs:!0,children:Object(a.jsx)(q.a,{variant:"h6",noWrap:!0,children:t.pathname.split("/")[1]})}),Object(a.jsx)(Ue.a,{item:!0,children:i&&Object(a.jsx)(i,{})}),Object(a.jsx)(Ue.a,{item:!0,children:Object(a.jsx)($.a,{color:"inherit",onClick:function(){n.push("/Contacts")},children:Object(a.jsx)(tt.a,{})})})]})})})},at=n(1780),it=n(1793),ct=n(1792),rt=n(1784),ot=n(5),st=n(222),dt=n.n(st),lt=n(1782),ut=Object(A.a)((function(e){return{avatarCircle:{width:"3rem",height:"3rem",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.primary.main,borderRadius:"100%",color:e.palette.background.default}}}));var jt=function(e){var t=e.onItemClick,n=e.contact,i=ut();return Object(a.jsxs)(B.a,{button:!0,onClick:function(){t&&t(n)},children:[Object(a.jsx)(lt.a,{children:Object(a.jsx)("div",{className:i.avatarCircle,children:Object(a.jsxs)(q.a,{variant:"h6",children:[n.name[0],n.surname&&n.surname[0]]})})}),Object(a.jsx)(G.a,{primary:"".concat(n.name," ").concat(n.surname&&n.surname),secondary:n.tel&&"tel. ".concat(n.tel)})]})};var bt=function(e){var t=e.onItemClick,n=(e.onEditClick,Object(i.useContext)(p).contacts);return Object(a.jsx)(D.a,{dense:!0,children:n.map((function(e){return Object(a.jsx)(jt,{contact:e,onItemClick:t},Object(ce.a)())}))})},mt=Object(A.a)((function(e){return{form:{marginTop:"1.5rem",marginBottom:"3rem"},fieldsContainer:{display:"flex",flexDirection:"column",gap:"1rem"}}}));var pt=function(e){var t=e.onCloseClick,n=e.onAddClick,c=e.open,r=e.contact,o=mt(),s=Object(Me.b)(),d=s.register,l=s.handleSubmit,u=s.errors,j=s.setValue;return Object(i.useEffect)((function(){void 0!==r&&(j("name",r.name),j("surname",r.surname),j("tel",r.tel),j("email",r.email))})),Object(a.jsxs)(De.a,{fullScreen:!0,open:!!c,children:[Object(a.jsx)(Be.a,{position:"static",children:Object(a.jsxs)(Te.a,{children:[Object(a.jsx)($.a,{edge:"start",color:"inherit","aria-label":"close",onClick:t,children:Object(a.jsx)(Z.a,{})}),Object(a.jsx)(q.a,{variant:"h6",children:"Add contact"})]})}),Object(a.jsx)("form",{onSubmit:l((function(e){n(Object(O.a)(Object(O.a)({},e),{},{is_good:!0}))})),className:o.form,children:Object(a.jsxs)(Ve.a,{maxWidth:"sm",className:o.fieldsContainer,children:[Object(a.jsx)(ze.a,{name:"name",inputRef:d({required:!0}),label:"Name",error:"name"in u,variant:"outlined",fullWidth:!0,required:!0}),Object(a.jsx)(ze.a,{name:"surname",inputRef:d,label:"Surname",error:"surname"in u,variant:"outlined",fullWidth:!0}),Object(a.jsx)(ze.a,{name:"tel",type:"tel",inputRef:d({pattern:/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s./0-9]*$/}),label:"Phone number",error:"tel"in u,variant:"outlined",fullWidth:!0}),Object(a.jsx)(ze.a,{name:"email",inputRef:d,label:"Email",type:"email",error:"email"in u,variant:"outlined",fullWidth:!0}),Object(a.jsx)(Y.a,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,children:"Add"})]})})]})},ht=Object(A.a)((function(e){return{flotingAdd:{position:"absolute",bottom:"5vmin",right:"5vmin"}}}));var Ot=function(e){var t=e.onCloseClick,n=e.onItemClick,c=e.open,r=ht(),o=Object(i.useState)(!1),d=Object(s.a)(o,2),l=d[0],u=d[1],j=Object(i.useContext)(p),b=j.contacts,m=j.addContact,h=j.changeContact,f=Object(i.useState)(),x=Object(s.a)(f,2),_=x[0],v=x[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(De.a,{fullScreen:!0,open:!!c,children:[Object(a.jsx)(Be.a,{position:"static",children:Object(a.jsxs)(Te.a,{children:[Object(a.jsx)($.a,{edge:"start",color:"inherit","aria-label":"close",onClick:t,children:Object(a.jsx)(Z.a,{})}),Object(a.jsx)(q.a,{variant:"h6",children:"Contacts"})]})}),Object(a.jsx)(bt,{onEditClick:function(e){console.log(e),u(!0),v(b[e])},onItemClick:n}),Object(a.jsx)(T.a,{color:"secondary","aria-label":"add",className:r.flotingAdd,onClick:function(){u(!0)},children:Object(a.jsx)(We.a,{})})]}),Object(a.jsx)(pt,{open:l,onCloseClick:function(){return u(!1)},onAddClick:function(e){void 0!==_&&void 0!==_.id&&_.id>=0?h(Object(O.a)(Object(O.a)({},e),{},{id:_.id})):m(e),u(!1)},contact:_})]})},ft=Object(A.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{outline:{position:"relative",borderRadius:e.shape.borderRadius,borderWidth:1,borderColor:t,borderStyle:"solid",padding:"18.5px 14px",display:"flex",gap:"0.5rem",justifyContent:"start","@media (hover: none)":{"&:hover":{borderColor:t}},"&:hover":{borderColor:e.palette.text.primary}},redBorder:{borderColor:e.palette.error.main}}}));var xt=function(e){var t=e.control,n=e.name,c=e.defaultValue,r=e.rules,o=e.error,d=e.value,l=ft(),u=Object(i.useState)({id:-1,name:"",surname:"",tel:"",email:"",is_good:!0}),j=Object(s.a)(u,2),b=j[0],m=j[1],p=Object(i.useState)(!1),h=Object(s.a)(p,2),O=h[0],f=h[1];return Object(i.useEffect)((function(){void 0!==d&&m(d)}),[d]),Object(a.jsx)(Me.a,{control:t,name:n,rules:r,defaultValue:c,render:function(e){var t=e.onChange;e.onBlur,e.value,e.name,e.ref;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Y.a,{className:o?Object(ot.a)(l.outline,l.redBorder):l.outline,startIcon:Object(a.jsx)(dt.a,{}),onClick:function(){return f(!0)},children:-1===b.id?Object(a.jsx)(q.a,{children:"Choose contact *"}):Object(a.jsx)(q.a,{children:"".concat(b.name," ").concat(b.surname&&b.surname)})}),Object(a.jsx)(Ot,{open:O,onCloseClick:function(){return f(!1)},onItemClick:function(e){t(e),m(e),f(!1)}})]})}})},_t=n(39),vt=n(1788),gt=n(1783),Ct=n(224),yt=n.n(Ct),kt=n(223),Nt=n.n(kt),St=Object(A.a)({actions:{display:"flex",alignItems:"center",gap:"0.5rem"}});function It(e){var t=e.item,n=e.toggleIsBought,i=e.decrementAmount,c=e.incrementAmount,r=St();return Object(a.jsxs)(B.a,{children:[Object(a.jsx)(H.a,{children:Object(a.jsx)(vt.a,{edge:"start",tabIndex:-1,checked:t.is_bought,onChange:function(){return n(t)}})}),t.amount<1&&Object(a.jsx)(Nt.a,{htmlColor:"#D32F2F"}),Object(a.jsx)(G.a,{id:"item"+t.id,primary:t.name}),Object(a.jsxs)(gt.a,{className:r.actions,children:[Object(a.jsx)($.a,{"aria-label":"Remove",onClick:function(){return i(t)},disabled:t.amount<1,children:Object(a.jsx)(yt.a,{})}),Object(a.jsx)(q.a,{variant:"body2",children:t.amount}),Object(a.jsx)($.a,{"aria-label":"Add",onClick:function(){return c(t)},children:Object(a.jsx)(We.a,{})})]})]})}var Rt=Object(i.memo)(It,(function(e,t){return fe(e.item,t.item)})),wt=Object(A.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{outline:{position:"relative",borderRadius:e.shape.borderRadius,borderWidth:1,borderColor:t,borderStyle:"solid",padding:"18.5px 14px",display:"flex",flexDirection:"column",gap:"1.5rem",justifyContent:"start","@media (hover: none)":{"&:hover":{borderColor:t}}},actions:{display:"flex",alignItems:"center",gap:"0.5rem"}}}));function Wt(e,t){switch(t.type){case"reset":return[];case"add":if(t.item.name.length<1)return e;if(t.item.id||(t.item.id=e.length),e.length<t.item.id)return e;var n,a=Object(_t.a)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.name===t.item.name){var c=function(){var t=Object(O.a)(Object(O.a)({},i),{},{amount:i.amount+1,id:i.id});return{v:e.map((function(e){return e.id===t.id?t:e}))}}();if("object"===typeof c)return c.v}}}catch(r){a.e(r)}finally{a.f()}return[].concat(Object(d.a)(e),[t.item]);case"remove":return e.filter((function(e){return e.id!==t.id}));case"change":return t.item.amount<1?e.filter((function(e){return e.id!==t.item.id})):e.map((function(e){return e.id===t.item.id?t.item:e}));default:return e}}var Lt=function(e){var t=e.receipt,n=e.onChange,c=Object(i.useState)(Object(ce.a)()),r=Object(s.a)(c,1)[0],o=Object(i.useReducer)(Wt,t.items),d=Object(s.a)(o,2),l=d[0],u=d[1],j=wt(),b=Object(i.useState)(""),m=Object(s.a)(b,2),p=m[0],h=m[1];Object(i.useEffect)((function(){n(l)})),Object(i.useEffect)((function(){u({type:"reset"}),t.items.forEach((function(e){u({type:"add",item:e})}))}),[t]),l.length;var f=function(e){u({type:"change",item:Object(O.a)(Object(O.a)({},e),{},{amount:e.amount+1})})},x=function(e){e.amount>0&&u({type:"change",item:Object(O.a)(Object(O.a)({},e),{},{amount:e.amount-1})})},_=function(e){u({type:"change",item:Object(O.a)(Object(O.a)({},e),{},{is_bought:!e.is_bought})})},v=function(e){u({type:"add",item:e})};return Object(a.jsxs)("div",{className:j.outline,children:[Object(a.jsxs)("div",{className:j.actions,children:[Object(a.jsx)(ze.a,{fullWidth:!0,name:"additem",value:p,onChange:function(e){h(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),v({name:p,amount:1,is_bought:!1}))}}),Object(a.jsx)($.a,{"aria-label":"Add",onClick:function(){v({name:p,amount:1,is_bought:!1})},children:Object(a.jsx)(We.a,{})})]}),Object(a.jsxs)(D.a,{dense:!0,children:[l.map((function(e,t){return Object(a.jsx)(Rt,{item:e,toggleIsBought:_,incrementAmount:f,decrementAmount:x},r+t)})),l.length<1&&Object(a.jsx)(q.a,{variant:"subtitle2",align:"center",children:"No items in receipt"})]})]})};function Et(e,t){var n=e.split("-"),a=t.split(":"),i=new Date(parseInt(n[0]),parseInt(n[1])-1,parseInt(n[2]),parseInt(a[0]),parseInt(a[1]));return console.log(i),i}var Pt=Object(A.a)({alignLeft:{display:"flex",justifyContent:"flex-start",textTransform:"none"},margin:{margin:"0.5rem"}});var Ft=function(e){var t=e.value,n=e.onChange,i=e.text,c=Pt();return Object(a.jsxs)(Y.a,{onClick:function(){return n&&n(!t)},className:c.alignLeft,children:[t?Object(a.jsx)(ie.a,{htmlColor:"#757575",className:c.margin}):Object(a.jsx)(ne.a,{htmlColor:"#757575",className:c.margin}),Object(a.jsx)(q.a,{variant:"body2",children:i&&i})]})},At=Object(A.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{grid:{width:"100%",position:"relative",marginLeft:"auto",marginRight:"auto"},form:{marginTop:"3rem",marginBottom:"3rem"},fieldsContainer:{display:"flex",flexDirection:"column",gap:"1rem"},dateFlex:{display:"flex",gap:"1rem"},outline:{position:"relative",borderRadius:e.shape.borderRadius,borderWidth:1,borderColor:t,borderStyle:"solid",padding:"18.5px 14px",display:"flex",gap:"0.5rem",justifyContent:"start","@media (hover: none)":{"&:hover":{borderColor:t}},"&:hover":{borderColor:e.palette.text.primary},"&:focused":{borderColor:e.palette.primary.main,borderWidth:2}},outlineLabel:{backgroundColor:e.palette.common.white,paddingLeft:"0.5rem",paddingRight:"0.5rem"},divider:{height:"1rem"}}}));var Dt=function(e){var t=e.history,n=e.match,c=Object(Me.b)(),r=c.register,o=c.handleSubmit,l=c.errors,u=c.control,j=c.setValue,b=Object(i.useContext)(y),m=b.receipts,h=b.addReceipt,O=Object(i.useContext)(p).contacts,f=Object(i.useContext)(_),x=f.orders,v=f.addOrder,g=f.changeOrder,C=At(),k=Object(i.useState)({id:-1,name:"",desc:"",notes:"",price_value:0,is_price_paid:!1,advance_value:0,is_advance_paid:!1,date_of_completion:null,est_date_of_completion:new Date,date_of_issue:new Date,client_id:-1,shopping_list_id:null,is_anbandoned:!1,is_completed:!1}),N=Object(s.a)(k,2),S=N[0],I=N[1],R=Object(i.useState)({id:-1,name:"",budget:null,items:[],completed:!1,order_id:null}),w=Object(s.a)(R,2),W=w[0],L=w[1],E=Object(i.useState)(),P=Object(s.a)(E,2),F=P[0],A=P[1];Object(i.useEffect)((function(){if(void 0!==(null===n||void 0===n?void 0:n.params).id){var e=parseInt((null===n||void 0===n?void 0:n.params).id);x[e]&&(I(x[e]),console.log(x[e]))}})),Object(i.useEffect)((function(){j("name",S.name),j("desc",S.desc),j("notes",S.notes),null!==S.price_value&&j("price_value",S.price_value/100),j("is_price_paid",S.is_price_paid),null!==S.advance_value&&j("advance_value",S.advance_value/100),j("is_advance_paid",S.is_advance_paid),A(O[S.client_id]),j("contact",O[S.client_id]),console.log("shoppinglist ",S.shopping_list_id),null!==S.shopping_list_id&&L(m[S.shopping_list_id])}),[S]),Object(i.useEffect)((function(){j("budget",null!==W.budget?W.budget/100:"")}),[W]);var D=(new Date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/"),B="".concat(D[2],"-").concat(D[1],"-").concat(D[0]),T=(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}).substring(0,5);return Object(a.jsxs)(De.a,{fullScreen:!0,open:!0,children:[Object(a.jsx)(Be.a,{position:"static",children:Object(a.jsxs)(Te.a,{children:[Object(a.jsx)($.a,{edge:"start",color:"inherit","aria-label":"close",onClick:t.goBack,children:Object(a.jsx)(Z.a,{})}),Object(a.jsx)(q.a,{variant:"h6",children:-1!=S.id?"Edit order":"Add order"})]})}),Object(a.jsx)("form",{onSubmit:o((function(e){var n=-1!=S.id?S.id:x.length,a=null!==S.shopping_list_id&&-1!=S.shopping_list_id?S.shopping_list_id:m.length;console.log("form data: ",e),console.log("order_id: ",S.id),e.items.length>0&&h({id:a,name:"Order: "+e.name,completed:!1,order_id:n,items:Object(d.a)(e.items),budget:qe(e.budget)});var i,c,r=qe(e.price_value),o=qe(e.advance_value),s=Et(e.est_date_of_completion,e.est_time_of_completion);i=e.date_of_completion&&e.time_of_completion?Et(e.date_of_completion,e.time_of_completion):s,c=e.date_of_issue&&e.time_of_issue?Et(e.date_of_issue,e.time_of_issue):new Date;var l={id:n,name:e.name,desc:e.desc,notes:e.notes,price_value:r,is_price_paid:!(r>0)||e.is_price_paid,advance_value:o,is_advance_paid:!(o>0)||e.is_advance_paid,date_of_completion:i,est_date_of_completion:s,date_of_issue:c,client_id:e.contact.id,shopping_list_id:a,is_anbandoned:e.is_anbandoned,is_completed:e.is_completed};-1!=S.id?g(l):v(l),t.goBack()})),className:C.form,children:Object(a.jsxs)(Ve.a,{maxWidth:"sm",className:C.fieldsContainer,children:[Object(a.jsx)(xt,{control:u,name:"contact",rules:{required:!0},defaultValue:null,error:"contact"in l,value:F}),Object(a.jsx)("div",{className:C.divider}),Object(a.jsx)(ze.a,{name:"name",inputRef:r({required:!0}),label:"Name",error:"name"in l,variant:"outlined",fullWidth:!0,required:!0}),Object(a.jsx)(ze.a,{name:"desc",inputRef:r({required:!0}),label:"Description",error:"desc"in l,variant:"outlined",fullWidth:!0,multiline:!0,rows:4,rowsMax:20,required:!0}),Object(a.jsx)(ze.a,{name:"notes",inputRef:r,label:"Notes",error:"notes"in l,variant:"outlined",fullWidth:!0,multiline:!0,rows:4,rowsMax:20}),Object(a.jsx)("div",{className:C.divider}),Object(a.jsxs)(at.a,{variant:"outlined",fullWidth:!0,children:[Object(a.jsx)(it.a,{htmlFor:"price_value",children:"Price"}),Object(a.jsx)(ct.a,{name:"price_value",id:"price_value",type:"text",error:"price_value"in l,inputRef:r({pattern:/^[0-9]+(\.[0-9]{1,2})?$/}),endAdornment:Object(a.jsx)(rt.a,{position:"end",children:"PLN"}),labelWidth:40})]}),Object(a.jsx)(Me.a,{control:u,name:"is_price_paid",render:function(e){var t=e.onChange,n=e.value;return Object(a.jsx)(Ft,{value:n,onChange:t,text:"Price paid"})}}),Object(a.jsx)("div",{className:C.divider}),Object(a.jsxs)(at.a,{variant:"outlined",fullWidth:!0,children:[Object(a.jsx)(it.a,{htmlFor:"advance_value",children:"Advance"}),Object(a.jsx)(ct.a,{name:"advance_value",id:"advance_value",type:"text",error:"advance_value"in l,inputRef:r({pattern:/^[0-9]+(\.[0-9]{1,2})?$/}),endAdornment:Object(a.jsx)(rt.a,{position:"end",children:"PLN"}),labelWidth:66})]}),Object(a.jsx)(Me.a,{control:u,name:"is_advance_paid",render:function(e){var t=e.onChange,n=e.value;return Object(a.jsx)(Ft,{value:n,onChange:t,text:"Advance paid"})}}),Object(a.jsx)("div",{className:C.divider}),Object(a.jsxs)(at.a,{fullWidth:!0,variant:"outlined",children:[Object(a.jsx)(it.a,{htmlFor:"date_of_completion",shrink:!0,className:C.outlineLabel,children:"Date of issue"}),Object(a.jsxs)("div",{className:C.outline,children:[Object(a.jsx)(ze.a,{id:"date_of_issue",name:"date_of_issue",type:"date",defaultValue:B,InputLabelProps:{shrink:!0},inputRef:r,disabled:!0,fullWidth:!0}),Object(a.jsx)(ze.a,{id:"time_of_issue",name:"time_of_issue",type:"time",defaultValue:T,InputLabelProps:{shrink:!0},inputRef:r,disabled:!0,fullWidth:!0})]})]}),Object(a.jsxs)(at.a,{fullWidth:!0,variant:"outlined",children:[Object(a.jsx)(it.a,{htmlFor:"date_of_completion",shrink:!0,className:C.outlineLabel,children:"Estimated date of completion"}),Object(a.jsxs)("div",{className:C.outline,children:[Object(a.jsx)(ze.a,{id:"est_date_of_completion",name:"est_date_of_completion",type:"date",defaultValue:B,InputLabelProps:{shrink:!0},inputRef:r,fullWidth:!0}),Object(a.jsx)(ze.a,{id:"est_time_of_completion",name:"est_time_of_completion",type:"time",defaultValue:"12:00",InputLabelProps:{shrink:!0},inputRef:r,fullWidth:!0})]})]}),Object(a.jsxs)(at.a,{fullWidth:!0,variant:"outlined",children:[Object(a.jsx)(it.a,{htmlFor:"date_of_completion",shrink:!0,className:C.outlineLabel,children:"Date of completion"}),Object(a.jsxs)("div",{className:C.outline,children:[Object(a.jsx)(ze.a,{id:"date_of_completion",name:"date_of_completion",type:"date",defaultValue:B,InputLabelProps:{shrink:!0},inputRef:r,disabled:!0,fullWidth:!0}),Object(a.jsx)(ze.a,{id:"time_of_completion",name:"time_of_completion",type:"time",defaultValue:"12:00",InputLabelProps:{shrink:!0},inputRef:r,disabled:!0,fullWidth:!0})]})]}),Object(a.jsx)("div",{className:C.divider}),Object(a.jsx)(ze.a,{name:"budget",inputRef:r({pattern:/^[0-9]+(\.[0-9]{1,2})?$/}),label:"Shopping budget",error:"budget"in l,variant:"outlined",fullWidth:!0}),Object(a.jsx)(Me.a,{name:"items",control:u,defaultValue:null,render:function(e){var t=e.onChange;return Object(a.jsxs)(at.a,{fullWidth:!0,variant:"outlined",children:[Object(a.jsx)(it.a,{htmlFor:"date_of_completion",shrink:!0,className:C.outlineLabel,children:"Shopping List"}),Object(a.jsx)(Lt,{receipt:W,onChange:t})]})}}),Object(a.jsx)("div",{className:C.divider}),Object(a.jsx)(Me.a,{control:u,name:"is_anbandoned",render:function(e){var t=e.onChange,n=e.value;return Object(a.jsx)(Ft,{value:n,onChange:t,text:"Is anbandoned"})}})," ",Object(a.jsx)(Me.a,{control:u,name:"is_completed",render:function(e){var t=e.onChange,n=e.value;return Object(a.jsx)(Ft,{value:n,onChange:t,text:"Is completed"})}}),Object(a.jsx)("div",{className:C.divider}),Object(a.jsx)(Y.a,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,children:-1!=S.id?"Edit order":"Add order"})]})})]})};var Bt=function(){var e=Object(i.useContext)(y).receipts,t=Object(i.useContext)(_).orders,n=Object(i.useContext)(p).contacts;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"List"}),Object(a.jsx)("table",{children:e.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.id}),Object(a.jsx)("td",{children:e.budget}),Object(a.jsx)("td",{children:e.items.map((function(e){return"".concat(e.name," : ").concat(e.amount,", ")}))}),Object(a.jsx)("td",{children:e.completed?"true":"false"})]})}))}),Object(a.jsx)("h1",{children:"contact"}),Object(a.jsx)("table",{children:n.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.id}),Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:e.surname}),Object(a.jsx)("td",{children:e.email}),Object(a.jsx)("td",{children:e.tel}),Object(a.jsx)("td",{children:e.is_good?"true":"false"})]})}))}),Object(a.jsx)("h1",{children:"Order"}),Object(a.jsx)("table",{children:t.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.id}),Object(a.jsx)("td",{children:e.desc}),Object(a.jsx)("td",{children:e.notes}),Object(a.jsx)("td",{children:e.advance_value}),Object(a.jsx)("td",{children:e.is_advance_paid?"true":"false"}),Object(a.jsx)("td",{children:e.price_value}),Object(a.jsx)("td",{children:e.is_price_paid?"true":"false"}),Object(a.jsx)("td",{children:e.client_id}),Object(a.jsx)("td",{children:e.shopping_list_id}),Object(a.jsx)("td",{children:e.date_of_issue.toLocaleString()}),Object(a.jsx)("td",{children:e.est_date_of_completion&&e.est_date_of_completion.toLocaleString()}),Object(a.jsx)("td",{children:e.date_of_completion&&e.date_of_completion.toLocaleString()}),Object(a.jsx)("td",{children:e.is_completed?"true":"false"}),Object(a.jsx)("td",{children:e.is_anbandoned?"true":"false"})]})}))})]})},Tt=n(146),Vt=n(23);var zt=function(){var e=Object(i.useContext)(_),t=(e.orders,e.setOrders),n=e.addOrder,c=(e.removeOrder,e.changeOrder,Object(i.useContext)(p)),r=(c.contacts,c.setContacts),o=c.addContact,s=(c.removeContact,c.changeContact,Object(i.useContext)(y)),d=(s.receipts,s.setReceipts),l=s.addReceipt,j=(s.removeReceipt,s.changeReceipt,function(){t([]),d([]),r([])});return Object(a.jsxs)("div",{children:[Object(a.jsx)(Y.a,{onClick:j,children:"Remove all"}),Object(a.jsx)(Y.a,{onClick:function(){j(),o({id:0,name:"Jan",surname:"Kowalski",tel:"730 495 950",email:"test@gmail.com",is_good:!0}),o({id:1,name:"Adam",surname:"Nowak",tel:"730 123 950",email:"test1@gmail.com",is_good:!0}),o({id:2,name:"Kuba",surname:"Kowalski",tel:"730 434 950",email:"test2@gmail.com",is_good:!1}),l({id:0,name:"test0",order_id:0,budget:3e4,completed:!1,items:[{id:0,amount:10,name:"Wood 2x4",is_bought:!1},{id:1,amount:1,name:"Glue",is_bought:!1}]}),l({id:1,name:"test1",order_id:1,budget:5e4,completed:!0,items:[{id:0,amount:10,name:"Wood Plank 2x2m",is_bought:!1},{id:1,amount:30,name:"Screws 5cm",is_bought:!1},{id:2,amount:100,name:"Screws 3cm",is_bought:!0}]}),l({id:2,name:"test2",order_id:2,budget:7e4,completed:!1,items:[{id:0,amount:10,name:"Wood Plank 1x4m",is_bought:!1},{id:1,amount:50,name:"Screws 7cm",is_bought:!1}]}),n({id:0,name:"Krzes\u0142ox2",desc:"Krzes\u0142ox2",advance_value:1e4,price_value:4e4,is_price_paid:!1,is_advance_paid:!1,client_id:0,notes:"",est_date_of_completion:u.a.date.future(),date_of_issue:u.a.date.recent(),date_of_completion:null,is_anbandoned:!1,is_completed:!1,shopping_list_id:0}),n({id:1,name:"St\xf3\u0142",desc:"St\xf3\u0142",advance_value:3e4,price_value:6e4,is_price_paid:!1,is_advance_paid:!0,client_id:1,notes:"Drewno z Lipy",est_date_of_completion:u.a.date.future(),date_of_issue:u.a.date.recent(),date_of_completion:null,is_anbandoned:!1,is_completed:!0,shopping_list_id:1}),n({id:2,name:"\u0141awka",desc:"\u0141awka",advance_value:4e4,price_value:8e4,is_price_paid:!0,is_advance_paid:!0,client_id:2,notes:"Zaokr\u0105glone nogi",est_date_of_completion:u.a.date.future(),date_of_issue:u.a.date.recent(),date_of_completion:null,is_anbandoned:!1,is_completed:!1,shopping_list_id:2})},children:"Set Fake Data"})]})};var Mt=Object(Vt.g)((function(e){var t=e.history;return Object(a.jsx)(Ot,{onCloseClick:t.goBack,open:!0})}));function qt(e){return null===e||void 0===e?void 0:e.toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})}var Kt=Object(A.a)((function(e){return{card:{width:"100%"},timeContianer:{display:"flex",gap:"0.5em"},cardMoneyIcon:{marginLeft:"auto"},cardActionsContainer:{display:"flex",width:"100%"},cardActionQuickButton:{marginLeft:"auto !important"},cardNotes:{backgroundColor:e.palette.grey[50]}}}));var Qt=function(e){var t,n=e.match,c=Kt(),r=Object(i.useContext)(y).receipts,o=Object(i.useContext)(_).orders,d=Object(i.useContext)(p).contacts,l=Object(i.useState)(!1),u=Object(s.a)(l,2),j=(u[0],u[1],Object(i.useState)(!1)),b=Object(s.a)(j,2),m=(b[0],b[1],Object(i.useState)({id:-1,name:"",desc:"",notes:"",price_value:0,is_price_paid:!1,advance_value:0,is_advance_paid:!1,is_anbandoned:!1,is_completed:!1,date_of_completion:null,est_date_of_completion:new Date,date_of_issue:new Date,client_id:0,shopping_list_id:null})),h=Object(s.a)(m,2),f=h[0],x=h[1];return Object(i.useEffect)((function(){if(void 0!==(null===n||void 0===n?void 0:n.params).id){var e=parseInt((null===n||void 0===n?void 0:n.params).id);console.log(e,o),o[e]&&x(o[e])}})),f.id>=0?Object(a.jsxs)(V.a,{className:c.card,children:[Object(a.jsxs)(z.a,{children:[Object(a.jsxs)(M.a,{className:c.timeContianer,children:[Object(a.jsx)(q.a,{variant:"h6",color:"textPrimary",component:"h1",children:f.name}),Object(a.jsxs)("div",{className:c.cardMoneyIcon,children:[f.is_price_paid&&f.is_advance_paid&&Object(a.jsx)(ye.a,{htmlColor:"#388E3C"}),!f.is_advance_paid&&!f.is_price_paid&&Object(a.jsx)(Ne.a,{htmlColor:"#D32F2F"}),!f.is_price_paid&&f.is_advance_paid&&Object(a.jsx)(w.a,{htmlColor:"#F57C00"})]})]}),Object(a.jsx)(K.a,{}),Object(a.jsxs)(M.a,{className:c.timeContianer,children:[Object(a.jsx)(_e.a,{}),Object(a.jsx)(q.a,{variant:"subtitle1",component:"h2",children:null===(t=f.est_date_of_completion)||void 0===t?void 0:t.toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),Object(a.jsx)(K.a,{}),Object(a.jsx)(M.a,{children:Object(a.jsx)(q.a,{variant:"body1",color:"textPrimary",component:"p",children:f.desc})})]}),Object(a.jsx)(K.a,{}),f.notes.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(K.a,{}),Object(a.jsx)(M.a,{className:c.cardNotes,children:Object(a.jsxs)(q.a,{variant:"body2",color:"textPrimary",component:"p",children:["Notes: ",f.notes]})})]}),void 0!==f.shopping_list_id&&null!==f.shopping_list_id&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(K.a,{}),Object(a.jsx)(M.a,{children:Object(a.jsx)(re,Object(O.a)({},r[f.shopping_list_id]))})]}),Object(a.jsx)(K.a,{}),Object(a.jsx)(M.a,{children:Object(a.jsxs)(D.a,{children:[Object(a.jsx)(K.a,{}),Object(a.jsx)(G.a,{primary:"Date of completion: ".concat(null!==f.date_of_completion?qt(f.date_of_completion):"Not set")}),Object(a.jsx)(K.a,{}),Object(a.jsx)(G.a,{primary:"Estimated date of completion: ".concat(f.est_date_of_completion?qt(f.est_date_of_completion):"Not set")}),Object(a.jsx)(K.a,{}),Object(a.jsx)(G.a,{primary:"Date_of_issue: ".concat(qt(f.date_of_issue))}),Object(a.jsx)(K.a,{}),Object(a.jsx)(G.a,{primary:"Is completed: ".concat(f.is_completed?"Yes":"No"," ")}),Object(a.jsx)(G.a,{primary:"Is anbandoned: ".concat(f.is_anbandoned?"Yes":"No")}),Object(a.jsx)(K.a,{}),Object(a.jsx)(G.a,{primary:"Price value: ".concat(null!==f.price_value&&(f.price_value/100).toFixed(2))}),Object(a.jsx)(G.a,{primary:"Is advance paid: ".concat(f.is_advance_paid?"Yes":"No")}),Object(a.jsx)(K.a,{}),Object(a.jsx)(G.a,{primary:"Advance value: ".concat(null!==f.advance_value&&(f.advance_value/100).toFixed(2))}),Object(a.jsx)(G.a,{primary:"Is price paid: ".concat(f.is_price_paid?"Yes":"No")}),Object(a.jsx)(K.a,{}),Object(a.jsx)(jt,{contact:d[f.client_id]})]})})]}):Object(a.jsx)("div",{children:"404"})},Yt=Object(A.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{grid:{width:"100%",position:"relative",marginLeft:"auto",marginRight:"auto"},form:{marginTop:"3rem",marginBottom:"3rem"},fieldsContainer:{display:"flex",flexDirection:"column",gap:"1rem"},dateFlex:{display:"flex",gap:"1rem"},outline:{position:"relative",borderRadius:e.shape.borderRadius,borderWidth:1,borderColor:t,borderStyle:"solid",padding:"18.5px 14px",display:"flex",gap:"0.5rem",justifyContent:"start","@media (hover: none)":{"&:hover":{borderColor:t}},"&:hover":{borderColor:e.palette.text.primary},"&:focused":{borderColor:e.palette.primary.main,borderWidth:2}},outlineLabel:{backgroundColor:e.palette.common.white,paddingLeft:"0.5rem",paddingRight:"0.5rem"},divider:{height:"1rem"}}}));var $t=function(e){var t=e.history,n=e.match,c=Yt(),r=Object(Me.b)(),o=r.register,l=r.handleSubmit,u=r.errors,j=r.control,b=r.setValue,m=((new Date).toISOString().split("T"),Object(i.useContext)(y)),p=m.receipts,h=m.addReceipt,f=Object(i.useState)({id:-1,name:"",budget:null,completed:!1,order_id:null,items:[]}),x=Object(s.a)(f,2),_=x[0],v=x[1];return Object(i.useEffect)((function(){if(void 0!==(null===n||void 0===n?void 0:n.params).id){var e=parseInt((null===n||void 0===n?void 0:n.params).id);p[e]&&v(p[e])}})),Object(i.useEffect)((function(){b("name",_.name),b("budget",null!==_.budget?_.budget/100:""),console.log(_)}),[_]),Object(a.jsxs)(De.a,{fullScreen:!0,open:!0,children:[Object(a.jsx)(Be.a,{position:"static",children:Object(a.jsxs)(Te.a,{children:[Object(a.jsx)($.a,{edge:"start",color:"inherit","aria-label":"close",onClick:t.goBack,children:Object(a.jsx)(Z.a,{})}),Object(a.jsx)(q.a,{variant:"h6",children:-1!==_.id?"Edit receipt":"Add receipt"})]})}),Object(a.jsx)("form",{onSubmit:l((function(e){h(Object(O.a)(Object(O.a)({},e),{},{id:-1!==_.id?_.id:void 0,order_id:null,items:Object(d.a)(e.items),budget:qe(e.budget)})),t.goBack()})),className:c.form,children:Object(a.jsxs)(Ve.a,{maxWidth:"sm",className:c.fieldsContainer,children:[Object(a.jsx)(ze.a,{name:"name",inputRef:o({required:!0}),label:"Name",error:"name"in u,variant:"outlined",fullWidth:!0,required:!0}),Object(a.jsxs)(at.a,{variant:"outlined",fullWidth:!0,children:[Object(a.jsx)(it.a,{htmlFor:"budget",children:"Budget"}),Object(a.jsx)(ct.a,{name:"budget",id:"budget",type:"text",error:"budget"in u,inputRef:o({pattern:/^[0-9]+(\.[0-9]{1,2})?$/}),endAdornment:Object(a.jsx)(rt.a,{position:"end",children:"PLN"}),labelWidth:56})]}),Object(a.jsx)(Me.a,{name:"items",control:j,render:function(e){var t=e.onChange;return Object(a.jsx)(Lt,{receipt:_,onChange:t})}}),Object(a.jsx)("div",{className:c.divider}),Object(a.jsx)(Y.a,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,children:-1!==_.id?"Edit receipt":"Add receipt"})]})})]})},Jt=Object(A.a)({app:{height:"100%",maxHeight:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},content:{maxHeight:"100%",flexGrow:1,overflow:"hidden"},bottomNav:{}});var Ht=function(){var e=Jt();return Object(a.jsx)(Tt.a,{children:Object(a.jsxs)("div",{className:e.app,children:[Object(a.jsx)(Vt.b,{component:nt}),Object(a.jsx)("div",{className:e.content,children:Object(a.jsxs)(Vt.d,{children:[Object(a.jsx)(Vt.a,{path:"/",to:"/Orders",exact:!0}),Object(a.jsx)(Vt.a,{path:"/stolarz",to:"/Orders",exact:!0}),Object(a.jsx)(Vt.b,{path:"/Orders",exact:!0,component:Ee}),Object(a.jsx)(Vt.b,{path:"/Orders/Add",exact:!0,component:Dt}),Object(a.jsx)(Vt.b,{path:"/Orders/Edit/:id",component:Dt}),Object(a.jsx)(Vt.b,{path:"/Orders/Id/:id",component:Qt}),Object(a.jsx)(Vt.b,{path:"/ShoppingList",exact:!0,component:$e}),Object(a.jsx)(Vt.b,{path:"/ShoppingList/Add",exact:!0,component:$t}),Object(a.jsx)(Vt.b,{path:"/ShoppingList/Edit/:id",exact:!0,component:$t}),Object(a.jsx)(Vt.b,{path:"/Finances",exact:!0,component:Ge}),Object(a.jsx)(Vt.b,{path:"/Contacts",exact:!0,component:Mt}),Object(a.jsx)(Vt.b,{path:"/DataView",exact:!0,component:Bt}),Object(a.jsx)(Vt.b,{path:"/Settings",exact:!0,component:zt}),Object(a.jsx)(Vt.b,{path:"/",render:function(){return Object(a.jsx)("div",{children:"404"})}})]})}),Object(a.jsx)("div",{className:e.bottomNav,children:Object(a.jsx)(Vt.b,{component:F})})]})})};var Gt=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{}),Object(a.jsx)(h,{children:Object(a.jsx)(k,{children:Object(a.jsx)(v,{children:Object(a.jsx)(Oe,{children:Object(a.jsx)(Ht,{})})})})})]})},Ut=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1794)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};n(1724),n(1725);o.a.render(Object(a.jsx)(Gt,{}),document.getElementById("root")),Ut()}},[[1726,1,2]]]);
//# sourceMappingURL=main.131a727b.chunk.js.map